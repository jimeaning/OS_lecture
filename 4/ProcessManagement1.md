# Process Management 1

### 🤖 프로세스 생성 (Process Creation)

- copy-on-write(COW) : write가 발생했을 때 copy 하겠다. 즉, 내용이 바뀔 때 카피해서 새로운 걸 만들고, 그 전까진 부모와 내용을 공유함.
- 부모 프로세스(Parent process)가 자식 프로세스(children process)를 생성   
  (부모가 직접 만드는 것이 아니라 운영체제에 요청해서 자식을 만듬 => 시스템 콜)
- 프로세스의 트리 (계층 구조) 형성
- 프로세스는 자원(CPU, 메모리 등)을 필요로 함
  - 자원은 운영체제로부터 받는다
  - 자원을 부모와 공유한다
- 자원의 공유
  - 부모와 자식이 모든 자원을 공유하는 모델
  - 일부를 공유하는 모델
  - 전혀 공유하지 않는 모델
- 수행 (Execution)
  - 부모와 자식은 공존하며 수행되는 모델
  - 자식이 종료(terminate)될 때까지 부모가 기다리는(wait. blocked 상태) 모델
- 주소 공간 (Address space)
  - 자식읜 부모의 공간을 복사함 (binary  and OS data)
  - 자식은 그 공간에 새로운 프로그램을 올림
- 유닉스의 예
  - **fork()** 시스템 콜이 새로운 프로세스를 생성
    - 부모를 그대로 복사 (OS data except PID + binary)
    - 주소 공간 할당
  - fork 다음에 이어지는 **exec()** 시스템 콜을 통해 새로운 프로그램을 메모리에 올림 (덮어 씌워서 새로운 프로그램을 만드는 것이 exec)

<br>

### 🤖 프로세스 종료 (Process Termination)

- 프로세스가 마지막 명령을 수행한 후 운영체제에게 이를 알려줌 (**exit**)
  - 자식이 부모에게 output data를 보냄 (자식이 먼저 죽고 부모가 죽음) -> via **wait**
  - 프로세스의 각종 자원들이 운영체제에게 반납됨
- 부모 프로세스가 자식의 수행을 종료시킴 (**abort**)
  - 자식이 할당 자원의 한계치를 넘어섬
  - 자식에게 할당된 태스크가 더이상 필요하지 않음
  - 부모가 종료(exit)하는 경우
    - 운영체제는 부모 프로세스가 종료하는 경우 자식이 더이상 수행되도록 두지 않는다
    - 단계적인 종료